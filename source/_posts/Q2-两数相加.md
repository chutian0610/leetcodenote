---
title: Q2.两数相加
date: 2019-09-12 16:59:51
mathjax: true
---
# Q2.两数相加

## 问题描述

给出两个非空的链表用来表示两个非负的整数。其中，它们各自的位数是按照逆序的方式存储的，并且它们的每个节点只能存储一位数字。

如果，我们将这两个数相加起来，则会返回一个新的链表来表示它们的和。

您可以假设除了数字 0 之外，这两个数都不会以 0 开头。

示例：

```
输入：(2 -> 4 -> 3) + (5 -> 6 -> 4)
输出：7 -> 0 -> 8
原因：342 + 465 = 807
```

## 思路

|个位|十位|百位|
|:---|:---|:---|
|2|4|3|
|5|6|4|
|7|0|8|

根据上面的例子，这道题的时间复杂度应该是$O(n)$,即对最长链表的一遍遍历:

1. 节点非空，且数字非负，那么遍历时只要考虑进位，不用回溯。
2. 不要直接将字符串转化为数字，Integer和double都是有界的，这道题有数字流的意思。

## 代码

```java
public class AddTwoNumbers {
    public ListNode addTwoNumbers(ListNode l1, ListNode l2) {
        ListNode root = null; //根节点
        ListNode cursor = null; // 当前位置指针
        ListNode pre = null; // 前一位置指针
        int step = 0; // 进位
        // 结束条件: 两个数字都到头且没有进位
        while(l1 !=null || l2 !=null||step!=0){
            int value = add(l1,l2,step);
            int current = value %10; // 当前位值
            cursor = new ListNode(current);
            if(root ==null){
                root =cursor;
                pre = root;
            }else {
                pre.next = cursor;
                pre = pre.next;
            }

            // 进位值
            if(value>=10){
                step =1;
            }else {
                step =0;
            }
            if(l1 !=null){
                l1 = l1.next;
            }
            if(l2 !=null){
                l2 = l2.next;
            }
        }
        return root;
    }
    // 对每一位进行计算
    private int add(ListNode l1, ListNode l2,int step){
        if(l1 == null){
            if(l2 ==null){
                return step;
            }else {
                return l2.val + step;
            }
        }else if(l2 == null){
            return l1.val+step;
        }else {
            return l1.val+l2.val+step;
        }
    }
}
public class ListNode {
    int val;
    ListNode next;

    ListNode(int x) {
        val = x;
    }
}
```